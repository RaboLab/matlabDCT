function b=Unzig(a)
    [M,N] = size(a);
    t=(M*N)^(1/2);
    count=1;
    b=zeros([t,t]);
    for x = 0:8:t-8
        for y =0:8:t-8
            b(x+1:x+8,y+1:y+8)=Unzigcore(a(count:count+63));
            count = count + 64;
        end
    end
end
function b=Unzigcore(acore)
    b = zeros([8 8]);
    b(1,1)=acore(1);
    b(1,2)=acore(2);
    b(2,1)=acore(3);
    b(3,1)=acore(4);
    b(2,2)=acore(5);
    b(1,3)=acore(6);
    b(1,4)=acore(7);
    b(2,3)=acore(8);
    b(3,2)=acore(9);
    b(4,1)=acore(10);
    b(5,1)=acore(11);
    b(4,2)=acore(12);
    b(3,3)=acore(13);
    b(2,4)=acore(14);
    b(1,5)=acore(15);
    b(1,6)=acore(16);
    b(2,5)=acore(17);
    b(3,4)=acore(18);
    b(4,3)=acore(19);
    b(5,2)=acore(20);
    b(6,1)=acore(21);
    b(7,1)=acore(22);
    b(6,2)=acore(23);
    b(5,3)=acore(24);
    b(4,4)=acore(25);
    b(3,5)=acore(26);
    b(2,6)=acore(27);
    b(1,7)=acore(28);
    b(1,8)=acore(29);
    b(2,7)=acore(30);
    b(3,6)=acore(31);
    b(4,5)=acore(32);
    b(5,4)=acore(33);
    b(6,3)=acore(34);
    b(7,2)=acore(35);
    b(8,1)=acore(36);
    b(8,2)=acore(37);
    b(7,3)=acore(38);
    b(6,4)=acore(39);
    b(5,5)=acore(40);
    b(4,6)=acore(41);
    b(3,7)=acore(42);
    b(2,8)=acore(43);
    b(3,8)=acore(44);
    b(4,7)=acore(45);
    b(5,6)=acore(46);
    b(6,5)=acore(47);
    b(7,4)=acore(48);
    b(8,3)=acore(49);
    b(8,4)=acore(50);
    b(7,5)=acore(51);
    b(6,6)=acore(52);
    b(5,7)=acore(53);
    b(4,8)=acore(54);
    b(5,8)=acore(55);
    b(6,7)=acore(56);
    b(7,6)=acore(57);
    b(8,5)=acore(58);
    b(8,6)=acore(59);
    b(7,7)=acore(60);
    b(6,8)=acore(61);
    b(7,8)=acore(62);
    b(8,7)=acore(63);
    b(8,8)=acore(64);
end